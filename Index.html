<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Jejak Kesultanan Melayu</title>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    text-align: center;
    background: linear-gradient(135deg, #a1c4fd, #c2e9fb);
    margin: 0; padding: 0;
  }
  header {
    background: #003366;
    color: white;
    padding: 20px;
    font-size: 1.5rem;
  }
  .map {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin-top: 30px;
    gap: 20px;
  }
  button.negeri {
    background: white;
    border: 3px solid #003366;
    border-radius: 15px;
    padding: 20px;
    width: 180px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: 0.3s;
  }
  button.negeri:hover {
    background: #003366;
    color: white;
  }
  .quiz-container {
    display: none;
    max-width: 500px;
    margin: 30px auto;
    background: white;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 0 10px rgba(0,0,0,0.2);
  }
  .question {
    font-size: 1.2rem;
    margin-bottom: 15px;
  }
  .options button {
    display: block;
    width: 100%;
    margin: 10px 0;
    padding: 10px;
    border-radius: 10px;
    border: 2px solid #003366;
    cursor: pointer;
    background: #f0f8ff;
  }
  .options button:hover {
    background: #003366;
    color: white;
  }
  .score {
    margin-top: 20px;
    font-size: 1.2rem;
    font-weight: 600;
  }
  #result {
    display: none;
    margin: 40px auto;
    font-size: 1.5rem;
    font-weight: 700;
  }
</style>
</head>
<body>
<header>ðŸŽ® Jejak Kesultanan Melayu ðŸŽ®</header>

<div id="menu">
  <h2>Pilih Kesultanan untuk diterokai:</h2>
  <div class="map">
    <button class="negeri" onclick="startQuiz('Pahang')">Pahang</button>
    <button class="negeri" onclick="startQuiz('Perak')">Perak</button>
    <button class="negeri" onclick="startQuiz('Terengganu')">Terengganu</button>
    <button class="negeri" onclick="startQuiz('Selangor')">Selangor</button>
  </div>
</div>

<div id="quiz" class="quiz-container">
  <h3 id="quiz-title"></h3>
  <div id="question" class="question"></div>
  <div id="options" class="options"></div>
  <div class="score" id="score"></div>
</div>

<div id="result"></div>

<script>
const quizzes = {
  "Pahang": [
    {q:"Siapakah pengasas Kesultanan Pahang?", a:"Sultan Muhammad Shah", o:["Sultan Ahmad","Sultan Muhammad Shah","Sultan Mahmud","Sultan Mansur"]},
    {q:"Pahang pernah berada di bawah pemerintahan negeri mana sebelum menjadi kesultanan?", a:"Melaka", o:["Perak","Terengganu","Melaka","Johor"]},
    {q:"Apakah hasil utama Pahang semasa zaman kesultanan?", a:"Emas", o:["Emas","Besi","Timah","Lada hitam"]},
    {q:"Sultan pertama Pahang berasal daripada Kesultanan mana?", a:"Kesultanan Melaka", o:["Kesultanan Aceh","Kesultanan Melaka","Kesultanan Johor","Kesultanan Kedah"]},
    {q:"Apakah lambang kekuasaan sultan di Pahang?", a:"Cogan Alam dan Cogan Agama", o:["Cogan Alam dan Cogan Agama","Pedang dan Keris","Mahkota","Tombak Diraja"]}
  ],
  "Perak": [
    {q:"Siapakah pengasas Kesultanan Perak?", a:"Sultan Muzaffar Shah I", o:["Sultan Mansur Shah","Sultan Muzaffar Shah I","Sultan Mahmud Shah","Sultan Alauddin Shah"]},
    {q:"Dari mana asal keturunan sultan pertama Perak?", a:"Kesultanan Melaka", o:["Kesultanan Pahang","Kesultanan Johor","Kesultanan Melaka","Kesultanan Kedah"]},
    {q:"Apakah sumber ekonomi utama Perak pada abad ke-16?", a:"Bijih timah", o:["Emas","Bijih timah","Getah","Kapur"]},
    {q:"Apakah nama sungai utama yang penting di Perak?", a:"Sungai Perak", o:["Sungai Dinding","Sungai Perak","Sungai Kinta","Sungai Bernam"]},
    {q:"Apakah lambang kedaulatan Kesultanan Perak?", a:"Alat kebesaran diraja", o:["Bendera","Alat kebesaran diraja","Istana","Bunga emas"]}
  ],
  "Terengganu": [
    {q:"Apakah nama sultan pertama Kesultanan Terengganu?", a:"Sultan Zainal Abidin I", o:["Sultan Mansur","Sultan Zainal Abidin I","Sultan Ahmad II","Sultan Mahmud"]},
    {q:"Apakah hasil utama Terengganu semasa zaman kesultanan?", a:"Perdagangan laut", o:["Bijih timah","Perdagangan laut","Getah","Emas"]},
    {q:"Negeri manakah yang pernah mempengaruhi Terengganu pada abad ke-18?", a:"Siam", o:["Aceh","Siam","Johor","Perak"]},
    {q:"Apakah bukti awal tulisan Jawi di Terengganu?", a:"Batu Bersurat Terengganu", o:["Batu Bersurat Terengganu","Manuskrip Lama","Buku Hikayat","Catatan Portugis"]},
    {q:"Apakah peranan utama Sultan Zainal Abidin I?", a:"Mengasaskan pemerintahan berdaulat di Terengganu", o:["Menjadi penaung Johor","Menakluk Kelantan","Mengasaskan pemerintahan berdaulat di Terengganu","Menandatangani perjanjian dengan Siam"]}
  ],
  "Selangor": [
    {q:"Siapakah pengasas Kesultanan Selangor?", a:"Raja Lumu (Sultan Salehuddin Shah)", o:["Raja Lumu (Sultan Salehuddin Shah)","Sultan Ibrahim","Sultan Mahmud","Raja Abdullah"]},
    {q:"Keturunan pengasas Kesultanan Selangor berasal dari mana?", a:"Bugis", o:["Bugis","Melayu Johor","Aceh","Minangkabau"]},
    {q:"Apakah sumber ekonomi utama Selangor pada abad ke-18?", a:"Bijih timah", o:["Getah","Bijih timah","Lada hitam","Kapur"]},
    {q:"Apakah pusat pemerintahan awal Kesultanan Selangor?", a:"Kuala Selangor", o:["Kuala Selangor","Klang","Sabak Bernam","Shah Alam"]},
    {q:"Apakah hubungan awal Selangor dengan Johor?", a:"Selangor membantu Johor menentang Belanda", o:["Selangor dijajah Johor","Selangor membantu Johor menentang Belanda","Selangor menakluk Johor","Tiada hubungan"]}
  ]
};

let currentQuiz = [];
let currentIndex = 0;
let score = 0;
let total = 0;
let currentState = '';

function startQuiz(state){
  currentState = state;
  currentQuiz = quizzes[state];
  currentIndex = 0;
  score = 0;
  total = currentQuiz.length;
  document.getElementById("menu").style.display = "none";
  document.getElementById("quiz").style.display = "block";
  document.getElementById("quiz-title").innerText = "Kuiz: Kesultanan " + state;
  showQuestion();
  // tempat main bunyi klik: new Audio('click.mp3').play();
}

function showQuestion(){
  let q = currentQuiz[currentIndex];
  document.getElementById("question").innerText = q.q;
  let optionsHTML = '';
  q.o.forEach(opt=>{
    optionsHTML += `<button onclick="checkAnswer('${opt}')">${opt}</button>`;
  });
  document.getElementById("options").innerHTML = optionsHTML;
  document.getElementById("score").innerText = `Markah: ${score}/${total}`;
}

function checkAnswer(answer){
  let correct = currentQuiz[currentIndex].a;
  if(answer===correct){
    score++;
    // bunyi betul: new Audio('correct.mp3').play();
  } else {
    // bunyi salah: new Audio('wrong.mp3').play();
  }
  currentIndex++;
  if(currentIndex<total){
    showQuestion();
  } else {
    showResult();
  }
}

function showResult(){
  document.getElementById("quiz").style.display = "none";
  const result = document.getElementById("result");
  result.style.display = "block";
  let msg = "";
  if(score===total) msg = "ðŸŒŸ Hebat! Awak pewaris Kesultanan Melayu sejati! ðŸŒŸ";
  else if(score>=total*0.7) msg = "ðŸ’ª Bagus! Teruskan jadi wira sejarah tanah air!";
  else msg = "ðŸ“˜ Cuba lagi! Ilmu sejarahmu bakal gemilang!";
  result.innerHTML = `
    <p>Markah akhir: ${score}/${total}</p>
    <p>${msg}</p>
    <button onclick="restart()">Main Semula</button>
  `;
  // bunyi sorakan akhir: new Audio('cheer.mp3').play();
}

function restart(){
  document.getElementById("result").style.display="none";
  document.getElementById("menu").style.display="block";
}
</script>
</body>
</html>
